<!DOCTYPE html>
<html class="h-full bg-gray-50">
  <head>
    <title>Pulse Nightlife</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <!-- Add Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Add Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  </head>

  <body class="h-full">
    <div class="min-h-full">
      <%= render "shared/navigation" %>

      <% if notice %>
        <div class="fixed top-20 right-4 z-50 animate-fade-in-down">
          <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded shadow-lg flex items-center" role="alert">
            <i class="fas fa-info-circle mr-2"></i>
            <%= notice %>
            <button onclick="this.parentElement.remove()" class="ml-4 text-blue-700 hover:text-blue-900">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      <% end %>

      <% if alert %>
        <div class="fixed top-20 right-4 z-50 animate-fade-in-down">
          <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded shadow-lg flex items-center" role="alert">
            <i class="fas fa-exclamation-circle mr-2"></i>
            <%= alert %>
            <button onclick="this.parentElement.remove()" class="ml-4 text-red-700 hover:text-red-900">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      <% end %>

      <main>
        <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
          <%= yield %>
        </div>
      </main>

      <footer class="bg-gray-800 text-white mt-12">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <h3 class="text-lg font-semibold mb-4">Pulse Nightlife</h3>
              <p class="text-gray-400">Your gateway to the best nightlife experiences in the city.</p>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
              <ul class="space-y-2">
                <li><%= link_to "Events", events_path, class: "text-gray-400 hover:text-white" %></li>
                <li><%= link_to "Venues", venues_path, class: "text-gray-400 hover:text-white" %></li>
                <li><%= link_to "Sign Up", new_consumer_registration_path, class: "text-gray-400 hover:text-white" %></li>
              </ul>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-4">Follow Us</h3>
              <div class="flex space-x-4">
                <a href="#" class="text-gray-400 hover:text-white">
                  <i class="fab fa-instagram text-2xl"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-white">
                  <i class="fab fa-facebook text-2xl"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-white">
                  <i class="fab fa-twitter text-2xl"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-400">
            <p>&copy; <%= Time.current.year %> Pulse Nightlife. All rights reserved.</p>
          </div>
        </div>
      </footer>
    </div>

    <!-- Back to top button -->
    <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
            id="backToTop" 
            class="fixed bottom-8 right-8 bg-blue-600 text-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-blue-700 transition-all duration-300 opacity-0">
      <i class="fas fa-arrow-up"></i>
    </button>

    <script>
      // Show/hide back to top button based on scroll position
      window.onscroll = function() {
        var button = document.getElementById('backToTop');
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          button.style.opacity = '1';
        } else {
          button.style.opacity = '0';
        }
      };
    </script>
  </body>
</html>
