<nav class="bg-white shadow-sm">
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row justify-between items-center py-4">
      <!-- Logo -->
      <div class="flex items-center mb-4 md:mb-0">
        <%= link_to root_path, class: "text-xl font-bold text-gray-800 hover:text-blue-600 transition duration-150" do %>
          Pulse Nightlife
        <% end %>
      </div>

      <!-- Main Navigation -->
      <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-6">
        <%= link_to "Events", events_path, class: "text-gray-600 hover:text-gray-900 font-medium" %>
        <%= link_to "Venues", venues_path, class: "text-gray-600 hover:text-gray-900 font-medium" %>
        
        <% if promoter_signed_in? || venue_signed_in? %>
          <%= link_to "Add Event", new_event_path, class: "text-gray-600 hover:text-gray-900 font-medium" %>
        <% end %>
        
        <% if venue_signed_in? %>
          <%= link_to "Manage Venue", edit_venue_path(current_venue), class: "text-gray-600 hover:text-gray-900 font-medium" %>
        <% end %>
      </div>

      <!-- Auth Navigation -->
      <div class="flex items-center mt-4 md:mt-0">
        <% if consumer_signed_in? %>
          <div class="relative" data-controller="dropdown">
            <button class="flex items-center space-x-1 text-gray-600 hover:text-gray-900 font-medium" data-action="click->dropdown#toggle">
              <span><%= current_consumer.name %></span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-50" data-dropdown-target="menu">
              <%= link_to "My Profile", consumer_path(current_consumer), class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
              <%= link_to "My Orders", consumer_orders_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
              <%= link_to "Sign Out", destroy_consumer_session_path, method: :delete, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
            </div>
          </div>
        <% elsif promoter_signed_in? %>
          <div class="relative" data-controller="dropdown">
            <button class="flex items-center space-x-1 text-gray-600 hover:text-gray-900 font-medium" data-action="click->dropdown#toggle">
              <span><%= current_promoter.name %></span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-50" data-dropdown-target="menu">
              <%= link_to "My Events", promoter_events_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
              <%= link_to "Sign Out", destroy_promoter_session_path, method: :delete, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
            </div>
          </div>
        <% elsif venue_signed_in? %>
          <div class="relative" data-controller="dropdown">
            <button class="flex items-center space-x-1 text-gray-600 hover:text-gray-900 font-medium" data-action="click->dropdown#toggle">
              <span><%= current_venue.name %></span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-50" data-dropdown-target="menu">
              <%= link_to "Venue Dashboard", venue_events_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
              <%= link_to "Sign Out", destroy_venue_session_path, method: :delete, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
            </div>
          </div>
        <% else %>
          <div class="flex items-center space-x-4">
            <div class="relative" data-controller="dropdown">
              <button class="text-gray-600 hover:text-gray-900 font-medium flex items-center space-x-1" data-action="click->dropdown#toggle">
                <span>Sign In</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
              </button>
              <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-50" data-dropdown-target="menu">
                <%= link_to "Consumer Sign In", new_consumer_session_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
                <%= link_to "Promoter Sign In", new_promoter_session_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
                <%= link_to "Venue Sign In", new_venue_session_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" %>
              </div>
            </div>
            <%= link_to "Sign Up", new_consumer_registration_path, class: "inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-150" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</nav> 
